<!DOCTYPE html>
<html lang="da">
  <head>
    <meta charset="UTF-8" />
    <title>Chat med D3SIGN Lab AI ðŸ’¬</title>
  </head>
  <body>
    <h1>Chat med D3SIGN Lab AI ðŸ’¬</h1>
    <textarea id="message" rows="3" cols="50" placeholder="Skriv din besked her..."></textarea>
    <br />
    <button onclick="sendMessage()">Send</button>
    <p id="response"></p>

    <script>
      async function sendMessage() {
        const message = document.getElementById("message").value;
        const responseEl = document.getElementById("response");

        try {
          const res = await fetch("/api/chat", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ message }),
          });

          const data = await res.json();

          if (res.ok) {
            responseEl.innerText = "AI: " + data.reply;
          } else {
            responseEl.innerText = "Fejl: " + data.error;
          }
        } catch (err) {
          responseEl.innerText = "Fejl: Kunne ikke kontakte serveren.";
        }
      }
    </script>
  </body>
</html>
